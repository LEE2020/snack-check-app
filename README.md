# 糖友零食助手

拍照或上传零食/食物图片，识别后给出**糖尿病患者能否食用**的简要建议（可吃 / 少吃注意 / 不建议），方便在超市、商店随手查。

---

## 功能说明

- **拍照识别**：点击「拍照」，允许相机后对准商品拍照，再点「拍照识别」即可。
- **相册选择**：点击「从相册选择」选一张已有照片进行识别。
- **结果展示**：显示识别到的食物名称（中文）、建议（可适量吃 / 建议少吃 / 不建议吃）及简短原因。
- **免责说明**：结果仅供参考，不能替代医生建议，请以医嘱和产品配料表为准。

---

## 零基础本地使用（电脑或手机浏览器）

### 方法一：直接双击打开（仅本地）

1. 把整个 `snack-check-app` 文件夹复制到电脑任意位置。
2. 用浏览器打开其中的 **index.html**（双击或在浏览器里选“打开文件”）。
3. **注意**：直接打开本地文件时，部分浏览器可能不允许相机，且 TensorFlow.js 可能受限。若识别失败，请用下面的“本地服务器”方式。

### 方法二：用本地小服务器打开（推荐）

1. 电脑上安装 [Node.js](https://nodejs.org/)（选 LTS 版本，一路下一步即可）。
2. 打开“命令提示符”或“终端”，进入本文件夹，例如：
   ```bash
   cd 你的路径/snack-check-app
   npx serve .
   ```
3. 终端里会显示一行地址，例如 `http://localhost:3000`，用浏览器打开这个地址。
4. 手机想用：确保手机和电脑在同一 WiFi 下，在手机浏览器里输入电脑上显示的地址（如 `http://电脑的IP:3000`）。

**使用 HTTPS 才能用相机**：若你需要“拍照”功能，在手机上测试时，可用 [ngrok](https://ngrok.com/) 等把本机地址变成 https，或把项目部署到下面说的“免费网站”，再在手机浏览器里打开。

---

## 上架成“应用”的几种方式（零基础可做）

你不需要会写代码，只要会上传文件、填表即可。

### 1. 当成“网页应用”上架（最简单）

- 把本文件夹里的所有文件（index.html、style.css、app.js、food-db.js）**上传到一个免费静态网站**，例如：
  - [Vercel](https://vercel.com)：注册 → New Project → 上传本文件夹或连 GitHub 上传。
  - [Netlify](https://www.netlify.com)：注册 → 把文件夹拖进页面里的上传区。
- 部署后会给你一个网址，例如 `https://你的项目名.vercel.app`。
- **在手机浏览器里把这个网址“添加到主屏幕”**：  
  - iOS：Safari 打开网址 → 分享 → “添加到主屏幕”。  
  - Android：Chrome 打开网址 → 菜单 → “添加到主屏幕”或“安装应用”。  
这样桌面上就有一个像 App 的图标，点开就是你的“糖友零食助手”，**无需上架应用商店**。

### 2. 做成真正的 App 并上架应用商店（需要多一步）

- 用 **PWA 封装成 App**（例如 [PWA Builder](https://www.pwabuilder.com/)）：  
  输入你部署好的网址 → 按提示打包成 Android / 可选 iOS → 下载安装包。
- **上架应用商店**：  
  - **安卓**：注册 Google Play 开发者（需一次性费用）或国内应用商店（如华为、小米、应用宝），上传安装包、填应用说明、截图等。  
  - **苹果**：需要 Mac 电脑、Apple 开发者账号（年费）和 Xcode，把网页打包成 iOS App 再提交审核。  
  这一步需要按各商店的“开发者指南”和“应用上架教程”一步步填表、上传，不要求你会编程。

### 3. 不“上架”，只给身边人用

- 用上面的 Vercel/Netlify 部署得到网址，把链接发给家人或糖友，他们用手机浏览器打开即可使用，也可“添加到主屏幕”当 App 用。

---

## 技术说明（给懂一点技术的人看）

- 前端：纯 HTML + CSS + JavaScript，无框架。
- 识别：浏览器内运行 [TensorFlow.js](https://www.tensorflow.org/js) + [MobileNet](https://github.com/tensorflow/tfjs-models/tree/master/mobilenet)（ImageNet 1000 类），无需后端、无需 API Key。
- 建议规则：`food-db.js` 里维护「英文类别 → 中文名 + 可吃/注意/不建议 + 原因」；未匹配到的类别会提示“请查看配料表或咨询医生”。

---

---

## 在 iOS 手机上用 / 上架 App Store

- **不上架、当 App 用**：把本应用部署到 Vercel/Netlify 得到 HTTPS 网址，用 iPhone 的 **Safari** 打开 → **分享 → 添加到主屏幕**，即可像 App 一样使用（含拍照）。
- **上架 App Store**：需要 Mac + Xcode + Apple 开发者账号，用 **Capacitor** 打包成 iOS 应用。  
  详细步骤见：**[iOS上架指南.md](./iOS上架指南.md)**。

---

## 免责声明

本工具仅供健康参考，**不能替代医生、营养师建议或产品配料表**。糖尿病患者饮食请以医嘱为准。
